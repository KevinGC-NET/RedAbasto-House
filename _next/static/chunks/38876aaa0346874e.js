(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31278,e=>{"use strict";let s=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>s],31278)},31436,e=>{"use strict";var s=e.i(43476),t=e.i(932),a=e.i(91193),l=e.i(7471),r=e.i(31278),c=e.i(88844),i=e.i(57688),o=e.i(18566),n=e.i(71645);function d(){let e,d,m,x,h,u=(0,t.c)(12),[p,f]=(0,n.useState)(null),{formatearPrecio:b}=(0,a.useMoneda)(),j=(0,o.useSearchParams)();u[0]!==j?(e=j.get("id"),u[0]=j,u[1]=e):e=u[1];let g=e;u[2]!==g?(d=async()=>{let[e]=await Promise.all([l.supabase.from("productos").select("*, categoria:categorias(*)").eq("id",g).single()]);e.error?console.error("Error fetching producto:",e.error):f(e.data)},u[2]=g,u[3]=d):d=u[3];let N=d;return u[4]!==N||u[5]!==g?(m=()=>{g&&N()},u[4]=N,u[5]=g,u[6]=m):m=u[6],u[7]!==g?(x=[g],u[7]=g,u[8]=x):x=u[8],(0,n.useEffect)(m,x),u[9]!==b||u[10]!==p?(h=p?(0,s.jsxs)("div",{className:"bg-slate-800 w-full md:w-140 rounded-xl border border-slate-700 overflow-hidden hover:border-slate-600 transition-all hover:shadow-lg hover:shadow-slate-900/50 group",children:[(0,s.jsxs)("div",{className:"relative aspect-[1/1.2] bg-slate-700/50 overflow-hidden",children:[p.imagen_url?(0,s.jsx)(i.default,{src:p.imagen_url,alt:p.nombre,width:400,height:400,className:`w-full h-full object-cover group-hover:scale-105 transition-transform duration-300 ${p.stock<=0?"opacity-50 grayscale":""}`}):(0,s.jsx)("div",{className:`w-full h-full flex items-center justify-center ${p.stock<=0?"opacity-50":""}`,children:(0,s.jsx)(c.Package,{className:"w-16 h-16 text-slate-600"})}),p.stock<=0&&(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20",children:(0,s.jsx)("div",{className:"px-4 py-2 border-4 border-red-600 rounded-sm -rotate-12 shadow-lg",children:(0,s.jsx)("span",{className:"text-2xl font-black text-red-600 tracking-widest uppercase",children:"AGOTADO"})})}),p.stock>0&&(0,s.jsx)("div",{className:"absolute top-2 right-2",children:(0,s.jsxs)("span",{className:`px-2 py-1 rounded-md text-xs font-medium ${p.stock>10?"bg-green-900/80 text-green-400":"bg-yellow-900/80 text-yellow-400"}`,children:[p.stock," en stock"]})}),p.categoria&&(0,s.jsx)("div",{className:"absolute top-2 left-2",children:(0,s.jsx)("span",{className:"px-2 py-1 bg-slate-900/80 rounded-md text-xs text-slate-300",children:p.categoria.nombre})})]}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-slate-100 truncate mb-1",title:p.nombre,children:p.nombre}),p.descripcion&&(0,s.jsx)("p",{className:"text-sm text-slate-400 line-clamp-2 mb-3 min-h-10",children:p.descripcion}),!p.descripcion&&(0,s.jsx)("div",{className:"mb-3 min-h-10"}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("p",{className:"text-xl font-bold text-green-400",children:b(p.precio)}),(0,s.jsxs)("p",{className:"text-xs text-slate-300",children:["$ ",p.precio.toFixed(2)," USD"]})]})]})]},p.id):(0,s.jsxs)("div",{className:"flex flex-col min-h-screen items-center justify-center animate-pulse",children:[(0,s.jsx)(r.Loader2,{size:50,className:"animate-spin"}),(0,s.jsx)("div",{className:"text-slate-400 text-2xl ",children:"Cargando producto..."})]}),u[9]=b,u[10]=p,u[11]=h):h=u[11],h}function m(){let e,a=(0,t.c)(1);return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)(n.Suspense,{fallback:(0,s.jsx)("div",{className:"flex flex-col min-h-screen items-center justify-center",children:(0,s.jsx)(r.Loader2,{size:50,className:"animate-spin text-slate-400"})}),children:(0,s.jsx)(d,{})}),a[0]=e):e=a[0],e}e.s(["ProductShowContent",()=>d,"default",()=>m])}]);